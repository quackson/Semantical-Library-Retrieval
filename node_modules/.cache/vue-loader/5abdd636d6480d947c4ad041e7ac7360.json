{"remainingRequest":"F:\\wjw_icss\\frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\wjw_icss\\frontend\\my-project\\src\\components\\page\\search.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"F:\\wjw_icss\\frontend\\my-project\\src\\components\\page\\search.vue","mtime":1656402484990},{"path":"F:\\wjw_icss\\frontend\\my-project\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\wjw_icss\\frontend\\my-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\wjw_icss\\frontend\\my-project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\wjw_icss\\frontend\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\wjw_icss\\frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtdG9vbHRpcF9fcG9wcGVye21heC13aWR0aDo0MCV9Cg=="},{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA","file":"search.vue","sourceRoot":"src/components/page","sourcesContent":["\r\n<template>\r\n<div>\r\n<el-row :gutter=\"20\">\r\n<el-col :span=\"24\">\r\n    <el-table v-if=\"loadcomplete\" \r\n    :data=\"tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)\"  \r\n                    height=\"tableHeight\"\r\n                    style=\"width: 100%\"\r\n                    >\r\n        <el-table-column prop=\"title\" label=\"推荐论文\" width=\"400\":show-overflow-tooltip=\"true\">\r\n            <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" \r\n            @click=\"openDialog(scope.row)\"\r\n            >\r\n            {{ scope.row.title}}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"author\" label=\"作者\" width=\"200\" :show-overflow-tooltip=\"true\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"summary\" label=\"描述\" show-overflow-tooltip>\r\n        </el-table-column>\r\n    </el-table>\r\n    \r\n    </el-col>\r\n    \r\n    </el-row>\r\n    <div class=\"block\">\r\n        <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"prev, pager, next, jumper\"\r\n        :total=\"totalNum\">\r\n        </el-pagination>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n data() {       \r\n        return {\r\n        tableData:[],\r\n        tableHeight: window.innerHeight  - 100,\r\n        currentPage:1,\r\n        pageSize:10,\r\n        totalNum:100, \r\n        username:'',\r\n        loadcomplete:false,\r\n      }\r\n    },  \r\n   methods: {\r\n        ///分页    初始页currentPage、初始每页数据数pagesize和数据testpage\r\n    handleSizeChange(val) {\r\n                   console.log(`每页 ${val} 条`);\r\n                   this.pageSize = val;    //动态改变\r\n    },\r\n     handleCurrentChange(val) {\r\n                //console.log(`当前页: ${val}`);   \r\n                console.log(this.totalNum);\r\n                console.log((val-1)*this.pageSize);\r\n                if(this.totalNum<=(val-1)*this.pageSize)\r\n                {\r\n                    _this.$message({\r\n                    message: \"超出最大页码\",\r\n                    type: 'warning',\r\n                    });\r\n                    return;\r\n                }\r\n                 this.currentPage = val;\r\n    },\r\n    openDialog (paper) {\r\n        console.log(`dash: ${paper.pdfLink}`);\r\n          this.$router.push({\r\n          name: 'readpage',\r\n          params: {url:paper.pdfLink,id:paper.id}\r\n          });\r\n         },\r\n         getData(qstr){\r\n                this.username=localStorage.getItem('ms_username')\r\n                let _this=this\r\n                this.$http.request({\r\n                  url:_this.$url + '/getRecommendation?user='+_this.username,\r\n                  method:'get',\r\n                }).then(function(response) {\r\n                //console.log(response.data),\r\n                  _this.tableData = response.data.papers,\r\n                  _this.totalNum= response.data.len,\r\n                  _this.loadcomplete=true,\r\n                  console.log(_this.tableData)\r\n                  //console.log(_this.totalNum)\r\n                }).catch(function(error) {\r\n                  console.log(error)\r\n                });     \r\n         },\r\n         defaultdata(){ \r\n                    let _this=this\r\n                    this.$http.request({\r\n                      url:_this.$url + '/searchPaper?method=cat&query=cs.AI&maxNum=10',\r\n                      method:'get',\r\n                    }).then(function(response) {\r\n                    //console.log(response.data),\r\n                      _this.tableData = response.data.papers,\r\n                      _this.totalNum= response.data.num,\r\n                      _this.loadcomplete=true,\r\n                      console.log(_this.tableData)\r\n                      //console.log(_this.totalNum)\r\n                    }).catch(function(error) {\r\n                      console.log(error)\r\n                    });\r\n         }\r\n         \r\n   },\r\n   watch: {\r\n    },\r\n    created(){\r\n        this.tabelData=new Array(this.pageSize);\r\n        this.getData(this.$route.query);\r\n        if(!this.loadcomplete)\r\n            this.defaultdata();\r\n    },   \r\n}\r\n</script>\r\n<style>\r\n    .el-tooltip__popper{max-width:40%}\r\n</style>\r\n<style scoped>\r\n.el-row {\r\n  top:4%;\r\n  bottom: 4%;\r\n  right:0px;\r\n  width:100%;\r\n  position: absolute;  \r\n  overflow-y: scroll;\r\n  z-index:1;\r\n}\r\n.el-row ::-webkit-scrollbar {\r\n    width: 0;\r\n}\r\n.el-row  > ul {\r\n    height: 100%;\r\n}\r\n.block{\r\n  bottom:0px;\r\n  left: 50%;\r\n  position:fixed;\r\n  z-index:1;\r\n}\r\n</style>"]}]}